{"pageProps":{"mdMeta":{"realpath":"/home/runner/work/jokester.github.io/jokester.github.io/posts/2017/2017-10-19-debugging-cmake-c-cpp-jni.md","slug":["2017-10-19","debugging-cmake-c-cpp-jni"],"frontMatter":{"title":"Memo: Debugging native code: CMake C CPP JNI","publishAt":"2017-10-19"}},"mdContent":"\nA few tricks I found when building native code (C / C++ / JNI) with CMake.\n\n### Show exact build command\n\n```sh\n$ make VERBOSE=1 <target>\n```\n\n### Diagnosis intermediate file\n\nFor each `.c` / `.cpp` file, there are intermediate files created from them:\n\n- `.i`: preprocessed source files (`#define` `#include`\n- `.s`: assembly code `MOV INC ADD etc`\n- `.o`: object file (machine code for target platform)\n\nNormally they just reside in compiler memory and are not written to disk.\nIn case we need to diagnose them, we can use Makefile targets generated by CMake.\n\nExample: for `console.test71.cxx` in source set:\n\n```\n$ make console/test71.cxx.i\n\n$ make console/test71.cxx.s\n\n$ make console/test71.cxx.o\n```\n\n<!-- TODO: add a public link to tidyj repo -->\n"},"__N_SSG":true}