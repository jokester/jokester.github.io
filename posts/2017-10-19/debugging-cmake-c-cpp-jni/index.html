<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-39627402-1"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-39627402-1', {
              page_path: window.location.pathname,
            });
          </script><title>Memo: Debugging native code: CMake C CPP JNI</title><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1.5,minimum-scale=1"/><link rel="canonical" href="https://jokester.github.io/posts/2017-10-19/debugging-cmake-c-cpp-jni/"/><meta name="next-head-count" content="7"/><link rel="preload" href="/_next/static/css/4aea23cc4ba74f25.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4aea23cc4ba74f25.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3278669249d12298.js" defer=""></script><script src="/_next/static/chunks/framework-e6d86b677864e3f5.js" defer=""></script><script src="/_next/static/chunks/main-bd374c4482f3a8c9.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f13ade3d405e605a.js" defer=""></script><script src="/_next/static/chunks/782-c0d129453d73cf2f.js" defer=""></script><script src="/_next/static/chunks/503-60468e2aaeee9d33.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5B...slug%5D-edb86ce02906f06f.js" defer=""></script><script src="/_next/static/argvIXp-MQJHPnk-xr4Ye/_buildManifest.js" defer=""></script><script src="/_next/static/argvIXp-MQJHPnk-xr4Ye/_ssgManifest.js" defer=""></script></head><body class="overflow-y-scroll"><div id="__next"><div class="bg-black text-yellow-100"><div class="min-h-screen container mx-auto"><div class="px-4 py-1 flex items-center bg-gray-900 space-x-4 text-sm"><a href="/"><a class="sm:hidden text-lg">挖坑自動機</a></a><a href="/"><a class="hidden sm:inline-block text-lg">挖坑自動機 / Digging automaton</a></a><span>|</span><a href="/posts/"><a class="text-yellow-200">/posts</a></a><a href="/works/"><a class="">/works</a></a><a href="/about/"><a class="">/about</a></a></div><div class="px-4 pt-6"><div class="markdown"><h1></h1><hr/><div class="markdown"><p>A few tricks I found when building native code (C / C++ / JNI) with CMake.</p>
<h3>Show exact build command</h3>
<pre><code class="language-sh">$ make VERBOSE=1 &lt;target&gt;
</code></pre>
<h3>Diagnosis intermediate file</h3>
<p>For each <code>.c</code> / <code>.cpp</code> file, there are intermediate files created from them:</p>
<ul>
<li><code>.i</code>: preprocessed source files (<code>#define</code> <code>#include</code></li>
<li><code>.s</code>: assembly code <code>MOV INC ADD etc</code></li>
<li><code>.o</code>: object file (machine code for target platform)</li>
</ul>
<p>Normally they just reside in compiler memory and are not written to disk.
In case we need to diagnose them, we can use Makefile targets generated by CMake.</p>
<p>Example: for <code>console.test71.cxx</code> in source set:</p>
<pre><code>$ make console/test71.cxx.i

$ make console/test71.cxx.s

$ make console/test71.cxx.o
</code></pre>
<!-- -->&lt;!-- TODO: add a public link to tidyj repo --&gt;</div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"mdMeta":{"realpath":"/home/runner/work/jokester.github.io/jokester.github.io/posts/2017/2017-10-19-debugging-cmake-c-cpp-jni.md","slug":["2017-10-19","debugging-cmake-c-cpp-jni"],"frontMatter":{"title":"Memo: Debugging native code: CMake C CPP JNI","publishAt":"2017-10-19"}},"mdContent":"\nA few tricks I found when building native code (C / C++ / JNI) with CMake.\n\n### Show exact build command\n\n```sh\n$ make VERBOSE=1 \u003ctarget\u003e\n```\n\n### Diagnosis intermediate file\n\nFor each `.c` / `.cpp` file, there are intermediate files created from them:\n\n- `.i`: preprocessed source files (`#define` `#include`\n- `.s`: assembly code `MOV INC ADD etc`\n- `.o`: object file (machine code for target platform)\n\nNormally they just reside in compiler memory and are not written to disk.\nIn case we need to diagnose them, we can use Makefile targets generated by CMake.\n\nExample: for `console.test71.cxx` in source set:\n\n```\n$ make console/test71.cxx.i\n\n$ make console/test71.cxx.s\n\n$ make console/test71.cxx.o\n```\n\n\u003c!-- TODO: add a public link to tidyj repo --\u003e\n"},"__N_SSG":true},"page":"/posts/[...slug]","query":{"slug":["2017-10-19","debugging-cmake-c-cpp-jni"]},"buildId":"argvIXp-MQJHPnk-xr4Ye","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>