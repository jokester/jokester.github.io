<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-39627402-1"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-39627402-1', {
              page_path: window.location.pathname,
            });
          </script><title>比较 CommonMark 的几种 JavaScript 实现</title><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1.5,minimum-scale=1"/><link rel="canonical" href="https://jokester.github.io/posts/2017-04-21/commonmark-js-comparison/"/><meta name="next-head-count" content="7"/><link rel="preload" href="/_next/static/css/4aea23cc4ba74f25.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4aea23cc4ba74f25.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3278669249d12298.js" defer=""></script><script src="/_next/static/chunks/framework-e6d86b677864e3f5.js" defer=""></script><script src="/_next/static/chunks/main-bd374c4482f3a8c9.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f13ade3d405e605a.js" defer=""></script><script src="/_next/static/chunks/782-c0d129453d73cf2f.js" defer=""></script><script src="/_next/static/chunks/503-60468e2aaeee9d33.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5B...slug%5D-0a158f9191a6a0a4.js" defer=""></script><script src="/_next/static/79WDPIk9zHGAsq-WoX9nZ/_buildManifest.js" defer=""></script><script src="/_next/static/79WDPIk9zHGAsq-WoX9nZ/_ssgManifest.js" defer=""></script></head><body class="overflow-y-scroll"><div id="__next"><div class="bg-black text-yellow-100"><div class="min-h-screen container mx-auto"><div class="px-4 py-1 flex items-center bg-gray-900 space-x-4 text-sm"><a class="sm:hidden text-lg" href="/">挖坑自動機</a><a class="hidden sm:inline-block text-lg" href="/">挖坑自動機 / Digging automaton</a><span>|</span><a class="text-yellow-200" href="/posts/">/posts</a><a class="" href="/works/">/works</a><a class="" href="/about/">/about</a></div><div class="px-4 pt-6"><div class="markdown"><h1></h1><hr/><div class="markdown"><p>前一段发现有 <a href="http://commonmark.org/">Commonmark</a> 这个试图把 Markdown 标准化的尝试。</p>
<p>稍微看了一下觉得质量不错，挺正经的，也有开发者支持 (还未 1.0 的现在已经有不少实现。pandoc 的作者 jgm 给 C 和 JS 各写了一个)，感觉可以上船。</p>
<p>我想看看能不能用来做一个 <a href="/post/2017-04/idea-markdown-formatter/">帮助编辑 md 的东西</a>，比如一个 md 的 linter 或<a href="https://code.visualstudio.com/blogs/2016/06/27/common-language-protocol">Language Service</a>，所以比较了一下。</p>
<p>我想要的特性:</p>
<ul>
<li>parser<!-- -->
<ul>
<li>AST 可以对应到原始文件 (行、列)</li>
<li>在原始文件部分被修改时，可以增量 parse</li>
</ul>
</li>
<li>renderer<!-- -->
<ul>
<li>可自定义特定 md block 的渲染 (一些 html 后端允许的格式不同，如 zhihu 的破编辑器)</li>
</ul>
</li>
<li>TS 支持</li>
<li>能 html2md</li>
</ul>
<h2>比较</h2>
<ul>
<li>来源 1: <a href="https://github.com/jgm/CommonMark/wiki/List-of-CommonMark-Implementations">List of CommonMark Implementations</a></li>
<li>来源 2: <code>jgm/commonmark.js</code> 的 README 中的 benchmark</li>
</ul>
<h3><code>jgm/commonmark.js</code></h3>
<ul>
<li>
<p><a href="https://github.com/jgm/commonmark.js">https://github.com/jgm/commonmark.js</a></p>
</li>
<li>
<p><code>jgm</code> 出品，CommonMark 的参考实现</p>
</li>
</ul>
<h3><code>markdown-it/markdown-it</code></h3>
<ul>
<li>&quot;high speed pluggable implementation&quot;</li>
<li><a href="https://github.com/markdown-it/markdown-it">https://github.com/markdown-it/markdown-it</a></li>
<li>API: <a href="https://markdown-it.github.io/markdown-it/">https://markdown-it.github.io/markdown-it/</a></li>
<li>有诸多 plugins，还有个 plugin 指南，可能比较容易扩展</li>
<li>VSCode 的<a href="https://github.com/DavidAnson/vscode-markdownlint">vscode-markdownlint</a> / <a href="https://github.com/DavidAnson/markdownlint">markdownlint</a> 也用了这个</li>
</ul>
<h3><code>jonschlinkert/remarkable</code></h3>
<ul>
<li><a href="https://github.com/jonschlinkert/remarkable">https://github.com/jonschlinkert/remarkable</a></li>
<li>支持 CommonMarks</li>
<li>好像开发不活跃，最后更新在 2016 末<!-- -->
<ul>
<li>3 位开发者中的 2 人转向了 <code>markdown-it</code></li>
</ul>
</li>
<li>有个 <code>Typographer</code>，能转换 <code>(c)</code>和引号等东西</li>
</ul>
<h3><code>marked</code></h3>
<ul>
<li>有最多 star 但<strong>不支持</strong> commonmarks</li>
<li>&quot;Built for speed.&quot;</li>
<li><a href="https://github.com/chjj/marked">https://github.com/chjj/marked</a></li>
</ul>
<h3><code>showdownjs/showdown</code></h3>
<ul>
<li>没有提到 commonmarks，可能也不支持</li>
<li><a href="https://github.com/showdownjs/showdown">https://github.com/showdownjs/showdown</a></li>
</ul></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"mdMeta":{"realpath":"/home/runner/work/jokester.github.io/jokester.github.io/posts/2017/2017-04-21-commonmark-js-comparison.md","slug":["2017-04-21","commonmark-js-comparison"],"frontMatter":{"title":"比较 CommonMark 的几种 JavaScript 实现","publishAt":"2017-04-21"}},"mdContent":"\n前一段发现有 [Commonmark](http://commonmark.org/) 这个试图把 Markdown 标准化的尝试。\n\n稍微看了一下觉得质量不错，挺正经的，也有开发者支持 (还未 1.0 的现在已经有不少实现。pandoc 的作者 jgm 给 C 和 JS 各写了一个)，感觉可以上船。\n\n我想看看能不能用来做一个 [帮助编辑 md 的东西](/post/2017-04/idea-markdown-formatter/)，比如一个 md 的 linter 或[Language Service](https://code.visualstudio.com/blogs/2016/06/27/common-language-protocol)，所以比较了一下。\n\n我想要的特性:\n\n- parser\n  - AST 可以对应到原始文件 (行、列)\n  - 在原始文件部分被修改时，可以增量 parse\n- renderer\n  - 可自定义特定 md block 的渲染 (一些 html 后端允许的格式不同，如 zhihu 的破编辑器)\n- TS 支持\n- 能 html2md\n\n## 比较\n\n- 来源 1: [List of CommonMark Implementations](https://github.com/jgm/CommonMark/wiki/List-of-CommonMark-Implementations)\n- 来源 2: `jgm/commonmark.js` 的 README 中的 benchmark\n\n### `jgm/commonmark.js`\n\n- https://github.com/jgm/commonmark.js\n\n- `jgm` 出品，CommonMark 的参考实现\n\n### `markdown-it/markdown-it`\n\n- \"high speed pluggable implementation\"\n- https://github.com/markdown-it/markdown-it\n- API: https://markdown-it.github.io/markdown-it/\n- 有诸多 plugins，还有个 plugin 指南，可能比较容易扩展\n- VSCode 的[vscode-markdownlint](https://github.com/DavidAnson/vscode-markdownlint) / [markdownlint](https://github.com/DavidAnson/markdownlint) 也用了这个\n\n### `jonschlinkert/remarkable`\n\n- https://github.com/jonschlinkert/remarkable\n- 支持 CommonMarks\n- 好像开发不活跃，最后更新在 2016 末\n  - 3 位开发者中的 2 人转向了 `markdown-it`\n- 有个 `Typographer`，能转换 `(c)`和引号等东西\n\n### `marked`\n\n- 有最多 star 但**不支持** commonmarks\n- \"Built for speed.\"\n- https://github.com/chjj/marked\n\n### `showdownjs/showdown`\n\n- 没有提到 commonmarks，可能也不支持\n- https://github.com/showdownjs/showdown\n"},"__N_SSG":true},"page":"/posts/[...slug]","query":{"slug":["2017-04-21","commonmark-js-comparison"]},"buildId":"79WDPIk9zHGAsq-WoX9nZ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>